{% extends 'base.html.twig' %}

{% block title %}{{ 'Admin Dashboard'|trans }}{% endblock %}

{% block body %}
<div class="manager-header">
    <h2 class="manager-title">{{ 'Admin Dashboard'|trans }}</h2>
</div>

<div class="manager-dashboard" style="grid-template-columns: 1fr;">
    <section class="manager-tiles" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
        
        {# Card 1: Total Users #}
        <a href="{{ path('app_admin_users', {'simple_mode': 1}) }}" class="tile-card tile-blue" style="text-decoration: none; cursor: pointer;">
            <span class="tile-icon"><i class="fa-solid fa-users"></i></span>
            <div class="tile-value">{{ stats.total_users }}</div>
            <div class="tile-label">{{ 'Total Users'|trans }}</div>
        </a>

        {# Card 2: Technicians #}
        <a href="{{ path('app_admin_users', {'role': 'TECH', 'simple_mode': 1}) }}" class="tile-card tile-indigo" style="text-decoration: none; cursor: pointer;">
            <span class="tile-icon"><i class="fa-solid fa-user-gear"></i></span>
            <div class="tile-value">{{ stats.tech_users }}</div>
            <div class="tile-label">{{ 'Technicians'|trans }}</div>
        </a>

        {# Card 3: Active Ticket Categories #}
        {# User requested "Number of active ticket categories" -> I'll pass category count #}
        {# Assuming this links to config or ticket list filtered by category? Keeping config for now. #}
        <a href="{{ path('app_admin_config', {'view': 'categories'}) }}" class="tile-card tile-emerald" style="text-decoration: none; cursor: pointer;">
            <span class="tile-icon"><i class="fa-solid fa-layer-group"></i></span>
            <div class="tile-value">{{ stats.active_categories }}</div>
            <div class="tile-label">{{ 'Active Ticket Categories'|trans }}</div>
        </a>
    
        {# Card 4: Urgent Tickets #}
        <a href="{{ urgent_priority_id ? path('app_ticket', {'priority': urgent_priority_id, 'simple_mode': 1}) : '#' }}" class="tile-card tile-rose" style="text-decoration: none; cursor: pointer;">
            <span class="tile-icon"><i class="fa-solid fa-triangle-exclamation"></i></span>
            <div class="tile-value">{{ stats.urgent }}</div>
            <div class="tile-label">{{ 'Urgent Tickets'|trans }}</div>
        </a>

        {# Card 5: Unassigned Tickets #}
        <a href="{{ path('app_ticket', {'assignee': 'unassigned', 'simple_mode': 1}) }}" class="tile-card tile-slate" style="text-decoration: none; cursor: pointer;">
            <span class="tile-icon"><i class="fa-solid fa-user-xmark"></i></span>
            <div class="tile-value">{{ stats.unassigned }}</div>
            <div class="tile-label">{{ 'Unassigned Tickets'|trans }}</div>
        </a>

    </section>
</div>
{% endblock %}
